(function(o,r,s,t,m,u,c,f){"use strict";const{ScrollView:g}=s.General,{FormSection:E,FormRadioRow:b,FormSwitchRow:h,FormIcon:v,FormInput:p}=s.Forms;function y(){return m.useProxy(t.storage),React.createElement(g,null,React.createElement(E,{title:"modo afk",titleStyleType:"no_border"}),React.createElement(h,{label:"ativar mensagem autom\xE1tica",subLabel:"todas as mensagens que te mencionar vc vai responder com o texto.",leading:React.createElement(v,{source:u.getAssetIDByName("ic_warning_24px")}),value:t.storage.modafk,onValueChange:function(e){return t.storage.modafk=e}}),React.createElement(p,{value:t.storage.afk,onChange:function(e){return t.storage.afk=e},placeholder:"bar",title:"afk mod"}))}r.findByProps("sendMessage","receiveMessage");const _=c.FluxDispatcher._actionHandlers._orderedActionHandlers,i=r.findByProps("getCurrentUser").getCurrentUser().id,A=r.findByProps("get","post");function k(e,n){let a={id:"",type:0,content:"",channel_id:n.id,author:{id:"",username:"",avatar:"",discriminator:"",publicFlags:0,avatarDecoration:null},attachments:[],embeds:[],mentions:[],mention_roles:[],pinned:!1,mention_everyone:!1,tts:!1,timestamp:"",edited_timestamp:null,flags:0,components:[]};return typeof e=="string"?a.content=e:a={...a,...e},a}let d=[];const C=function(){try{return d.push(f.before("actionHandler",_.MESSAGE_CREATE?.find(function(e){return e.name==="MessageStore"}),async function(e){let n=e[0].message,a=e[0].guildId,l=e[0].channelId;n.content.includes("<@"+i+">")&&t.storage.modafk&&n.author.id!=i&&!n.content.includes("[MENSAGEM AUTOM\xC1TICA]")&&await A.post({url:"/channels/"+l+"/messages",body:{content:t.storage.afk+`
[MENSAGEM AUTOM\xC1TICA]`,message_reference:{channel_id:l,message_id:n.id}}})})),null}catch{}},M=y,R=function(){c.FluxDispatcher.dispatch({type:"MESSAGE_CREATE",message:k("PLACEHOLDER",{id:"0"})}),t.storage.modafk??=!1,t.storage.afk??="to afk",setTimeout(function(){return C()},300)},S=function(){for(const e of d)e()};return o.onLoad=R,o.onUnload=S,o.settings=M,o})({},vendetta.metro,vendetta.ui.components,vendetta.plugin,vendetta.storage,vendetta.ui.assets,vendetta.metro.common,vendetta.patcher);
