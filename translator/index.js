(function(f,n,e,E,p,c,S){"use strict";const{ScrollView:C,Text:F,TextInput:g,Platform:P}=e.ReactNative,{OS:v}=P,w=n.findByProps("ButtonColors","ButtonLooks","ButtonSizes").default,h=n.findByProps("openLazy","hideActionSheet"),R=n.findByProps("push","pushLazy","pop"),N=n.findByProps("getRenderCloseButton"),{default:T,getRenderCloseButton:z}=N,L=n.findByName("Icon"),{FormRow:O}=S.Forms,r=[],u=[],B=e.stylesheet.createThemedStyleSheet({codeBlock:{fontFamily:e.constants.Fonts.CODE_SEMIBOLD,fontSize:12,backgroundColor:p.semanticColors.BACKGROUND_SECONDARY,color:p.semanticColors.TEXT_NORMAL,marginTop:10,borderRadius:3,padding:10}});u.push(c.before("openLazy",h,function(o){const[a,i,l]=o;i==="MessageLongPressActionSheet"&&a.then(function(m){const A=c.after("default",m,function(I,D){e.React.useEffect(function(){return function(){A()}},[]);let[V,y]=D.props?.children?.props?.children?.props?.children,t=V?.props?.message??l?.message;if(!y||!t)return;t.content;let d;const _=function(){return e.React.createElement(T,{initialRouteName:"RawPage",goBackOnBackPress:!0,screens:{RawPage:{title:"ViewRaw",headerLeft:z(function(){return R.pop()}),render:function(){const[x,M]=e.React.useState(t.content);return e.React.createElement(C,{style:{flex:1,marginHorizontal:13,marginVertical:10}},e.React.createElement(w,{text:"Save",color:"brand",size:"small",onPress:function(){({...t},r.find(function(s){return s.id==t.id})||(console.log(r),t.content=d,r.push(t)))}}),v=="ios"?e.React.createElement(g,{style:B.codeBlock,onChangeText:function(s){return d=s},defaultValue:t.content,multiline:!0}):e.React.createElement(g,{style:B.codeBlock,onChangeText:function(s){return d=s},defaultValue:t.content,multiline:!0}))}}}})};y.push(e.React.createElement(O,{label:"Edit Message",leading:e.React.createElement(L,{source:E.getAssetIDByName("ic_message_edit")}),onPress:function(){h.hideActionSheet(),R.push(_)}}))})})}));const b=n.findByName("RowManager");u.push(c.before("generate",b.prototype,function(o){let[a]=o;if(a.rowType!==1)return;let i=r.find(function(l){return l.id==a.message.id});i&&(a.message=i)}));const k=function(){return u.forEach(function(o){return o()})};return f.onUnload=k,f})({},vendetta.metro,vendetta.metro.common,vendetta.ui.assets,vendetta.ui,vendetta.patcher,vendetta.ui.components);
