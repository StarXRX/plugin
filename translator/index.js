(function(p,o,e,S,g,c,P){"use strict";const{ScrollView:C,Text:F,TextInput:R,Platform:v}=e.ReactNative,{OS:N}=v,T=o.findByProps("ButtonColors","ButtonLooks","ButtonSizes").default,h=o.findByProps("openLazy","hideActionSheet"),B=o.findByProps("push","pushLazy","pop"),k=o.findByProps("getRenderCloseButton"),{default:m,getRenderCloseButton:w}=k,z=o.findByName("Icon"),{FormRow:L}=P.Forms,r=[],u=[],y=e.stylesheet.createThemedStyleSheet({codeBlock:{fontFamily:e.constants.Fonts.CODE_SEMIBOLD,fontSize:12,backgroundColor:g.semanticColors.BACKGROUND_SECONDARY,color:g.semanticColors.TEXT_NORMAL,marginTop:10,borderRadius:3,padding:10}});u.push(c.before("openLazy",h,function(a){const[s,l,i]=a;l==="MessageLongPressActionSheet"&&s.then(function(d){const b=c.after("default",d,function(I,x){e.React.useEffect(function(){return function(){b()}},[]);let[D,E]=x.props?.children?.props?.children?.props?.children,n=D?.props?.message??i?.message;if(!E||!n)return;n.content;let f;const V=function(){return e.React.createElement(m,{initialRouteName:"RawPage",goBackOnBackPress:!0,screens:{RawPage:{title:"ViewRaw",headerLeft:w(function(){return B.pop()}),render:function(){const[_,M]=e.React.useState(n.content);return e.React.createElement(C,{style:{flex:1,marginHorizontal:13,marginVertical:10}},e.React.createElement(T,{text:"Save",color:"brand",size:"small",onPress:function(){if({...n},!r.find(function(t){return t.id==n.id})){let t={};t.novocontent=f,t.id=n.id,r.push(t),console.log(r)}}}),N=="ios"?e.React.createElement(R,{style:y.codeBlock,onChangeText:function(t){return f=t},defaultValue:n.content,multiline:!0}):e.React.createElement(R,{style:y.codeBlock,onChangeText:function(t){return f=t},defaultValue:n.content,multiline:!0}))}}}})};E.push(e.React.createElement(L,{label:"Edit Message",leading:e.React.createElement(z,{source:S.getAssetIDByName("ic_message_edit")}),onPress:function(){h.hideActionSheet(),B.push(V)}}))})})}));const O=o.findByName("RowManager");u.push(c.after("generate",O.prototype,function(a,s){let[l]=a;if(l.rowType!==1)return;let i=r.find(function(d){return d.id==s.message.id});i&&(s.message.content=i.novocontent)}));const A=function(){return u.forEach(function(a){return a()})};return p.onUnload=A,p})({},vendetta.metro,vendetta.metro.common,vendetta.ui.assets,vendetta.ui,vendetta.patcher,vendetta.ui.components);
