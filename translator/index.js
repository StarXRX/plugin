(function(f,o,e,E,p,r,S){"use strict";const{ScrollView:P,Text:F,TextInput:g,Platform:C}=e.ReactNative,{OS:v}=C,N=o.findByProps("ButtonColors","ButtonLooks","ButtonSizes").default,h=o.findByProps("openLazy","hideActionSheet"),R=o.findByProps("push","pushLazy","pop"),w=o.findByProps("getRenderCloseButton"),{default:z,getRenderCloseButton:L}=w,O=o.findByName("Icon"),{FormRow:T}=S.Forms,c=[],u=[],B=e.stylesheet.createThemedStyleSheet({codeBlock:{fontFamily:e.constants.Fonts.CODE_SEMIBOLD,fontSize:12,backgroundColor:p.semanticColors.BACKGROUND_SECONDARY,color:p.semanticColors.TEXT_NORMAL,marginTop:10,borderRadius:3,padding:10}});u.push(r.before("openLazy",h,function(a){const[s,i,l]=a;i==="MessageLongPressActionSheet"&&s.then(function(m){const A=r.after("default",m,function(I,D){e.React.useEffect(function(){return function(){A()}},[]);let[V,y]=D.props?.children?.props?.children?.props?.children,t=V?.props?.message??l?.message;if(!y||!t)return;t.content;let d;const _=function(){return e.React.createElement(z,{initialRouteName:"RawPage",goBackOnBackPress:!0,screens:{RawPage:{title:"ViewRaw",headerLeft:L(function(){return R.pop()}),render:function(){const[x,M]=e.React.useState(t.content);return e.React.createElement(P,{style:{flex:1,marginHorizontal:13,marginVertical:10}},e.React.createElement(N,{text:"Save",color:"brand",size:"small",onPress:function(){if({...t},!c.find(function(n){return n.id==t.id})){let n={id:t.id,editadu:d};c.push(n)}}}),v=="ios"?e.React.createElement(g,{style:B.codeBlock,onChangeText:function(n){return d=n},defaultValue:t.content,multiline:!0}):e.React.createElement(g,{style:B.codeBlock,onChangeText:function(n){return d=n},defaultValue:t.content,multiline:!0}))}}}})};y.push(e.React.createElement(T,{label:"Edit Message",leading:e.React.createElement(O,{source:E.getAssetIDByName("ic_message_edit")}),onPress:function(){h.hideActionSheet(),R.push(_)}}))})})}));const b=o.findByName("RowManager");u.push(r.before("generate",b.prototype,function(a){let[s]=a,i=c.find(function(l){return l.id==s.message.id});i&&(s.message.content=i.editadu)}));const k=function(){return u.forEach(function(a){return a()})};return f.onUnload=k,f})({},vendetta.metro,vendetta.metro.common,vendetta.ui.assets,vendetta.ui,vendetta.patcher,vendetta.ui.components);
