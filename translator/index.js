(function(u,d,p,t,e,S,T,f){"use strict";const{ScrollView:C,Text:w,TextInput:_,Platform:O}=e.ReactNative,h=t.findByProps("ButtonColors","ButtonLooks","ButtonSizes").default,b=e.stylesheet.createThemedStyleSheet({codeBlock:{fontFamily:e.constants.Fonts.CODE_SEMIBOLD,fontSize:12,backgroundColor:f.semanticColors.BACKGROUND_SECONDARY,color:f.semanticColors.TEXT_NORMAL,marginTop:10,borderRadius:3,padding:10}});function m(i){let{message:a}=i;const[o,s]=e.React.useState(""),r=a.content,c=async function(l){try{const n=(await(await fetch("https://api.openai.com/v1/engines/davinci-codex/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer your_openai_api_key"},body:JSON.stringify({prompt:`translate this message to ${l}:

${a.content}`,max_tokens:60,temperature:.5,n:1,stop:[`
`]})})).json()).choices[0].text.trim();s(n)}catch(n){console.error(n),s("Error translating message.")}},R=function(){e.clipboard.setString(o||r),T.showToast("Copied data to clipboard",p.getAssetIDByName("toast_copy_link"))};return e.React.createElement(e.React.Fragment,null,e.React.createElement(C,{style:{flex:1,marginHorizontal:13,marginVertical:10}},e.React.createElement(h,{text:"Copy Raw Data",color:"brand",size:"small",onPress:R}),e.React.createElement(_,{style:b.codeBlock,onChange:function(){},multiline:!0,value:o||r}),e.React.createElement(h,{text:"Translate Message",color:"brand",size:"small",onPress:function(){return c("pt")}})))}const g=t.findByProps("openLazy","hideActionSheet"),y=t.findByProps("push","pushLazy","pop"),v=t.findByProps("getRenderCloseButton"),{default:P,getRenderCloseButton:z}=v,N=t.findByName("Icon"),{FormRow:k}=S.Forms,x=d.before("openLazy",g,function(i){const[a,o,s]=i;o==="MessageLongPressActionSheet"&&a.then(function(r){const c=d.after("default",r,function(R,l){e.React.useEffect(function(){return function(){c()}},[]);let[n,B]=l.props?.children?.props?.children?.props?.children;const E=n?.props?.message??s?.message;if(!B||!E)return;const L=function(){return e.React.createElement(P,{initialRouteName:"Translator",goBackOnBackPress:!0,screens:{Translator:{title:"Translator",headerLeft:z(function(){return y.pop()}),render:function(){return e.React.createElement(m,{message:E})}}}})};B.push(e.React.createElement(k,{label:"View Raw",leading:e.React.createElement(N,{source:p.getAssetIDByName("ic_chat_bubble_16px")}),onPress:function(){g.hideActionSheet(),y.push(L)}}))})})}),A=function(){return x()};return u.onUnload=A,u})({},vendetta.patcher,vendetta.ui.assets,vendetta.metro,vendetta.metro.common,vendetta.ui.components,vendetta.ui.toasts,vendetta.ui);
