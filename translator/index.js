(function(f,n,e,E,p,c,S){"use strict";const{ScrollView:C,Text:F,TextInput:g,Platform:P}=e.ReactNative,{OS:v}=P,N=n.findByProps("ButtonColors","ButtonLooks","ButtonSizes").default,h=n.findByProps("openLazy","hideActionSheet"),R=n.findByProps("push","pushLazy","pop"),z=n.findByProps("getRenderCloseButton"),{default:L,getRenderCloseButton:O}=z,T=n.findByName("Icon"),{FormRow:b}=S.Forms,s=[],u=[],B=e.stylesheet.createThemedStyleSheet({codeBlock:{fontFamily:e.constants.Fonts.CODE_SEMIBOLD,fontSize:12,backgroundColor:p.semanticColors.BACKGROUND_SECONDARY,color:p.semanticColors.TEXT_NORMAL,marginTop:10,borderRadius:3,padding:10}});u.push(c.before("openLazy",h,function(o){const[r,i,l]=o;i==="MessageLongPressActionSheet"&&r.then(function(w){const A=c.after("default",w,function(I,D){e.React.useEffect(function(){return function(){A()}},[]);let[V,y]=D.props?.children?.props?.children?.props?.children,t=V?.props?.message??l?.message;if(!y||!t)return;t.content;let d;const _=function(){return e.React.createElement(L,{initialRouteName:"RawPage",goBackOnBackPress:!0,screens:{RawPage:{title:"ViewRaw",headerLeft:O(function(){return R.pop()}),render:function(){const[x,M]=e.React.useState(t.content);return e.React.createElement(C,{style:{flex:1,marginHorizontal:13,marginVertical:10}},e.React.createElement(N,{text:"Save",color:"brand",size:"small",onPress:function(){({...t},s.find(function(a){return a.id==t.id})||(console.log(s),t.content=d,s.push(t)))}}),v=="ios"?e.React.createElement(g,{style:B.codeBlock,onChangeText:function(a){return d=a},defaultValue:t.content,multiline:!0}):e.React.createElement(g,{style:B.codeBlock,onChangeText:function(a){return d=a},defaultValue:t.content,multiline:!0}))}}}})};y.push(e.React.createElement(b,{label:"Edit Message",leading:e.React.createElement(T,{source:E.getAssetIDByName("ic_message_edit")}),onPress:function(){h.hideActionSheet(),R.push(_)}}))})})}));const k=n.findByName("RowManager");u.push(c.before("generate",k.prototype,function(o){let[r]=o,i=s.find(function(l){return l.id==r.message.id});i&&(r.message=i)}));const m=function(){return u.forEach(function(o){return o()})};return f.onUnload=m,f})({},vendetta.metro,vendetta.metro.common,vendetta.ui.assets,vendetta.ui,vendetta.patcher,vendetta.ui.components);
