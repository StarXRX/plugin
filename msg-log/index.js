(function(r,d,o,a){"use strict";const c=d.FluxDispatcher._actionHandlers._orderedActionHandlers,i=a.findByProps("sendMessage","receiveMessage"),g=a.findByProps("createBotMessage"),s=[];s.push(o.before("actionHandler",c.MESSAGE_UPDATE?.find(function(e){return e.name==="MessageStore"}),function(e){try{let n=a.findByProps("getMessage","getMessages").getMessage(e[0]?.message?.channel_id,e[0]?.message.id)?.content,t=e[0]?.message?.content;if(!t||!n)return;e[0].message.content=n+" `[editada]`\n"+t}catch{}})),s.push(o.before("actionHandler",c.MESSAGE_DELETE?.find(function(e){return e.name==="MessageStore"}),function(e){try{let n=a.findByProps("getMessage","getMessages").getMessage(e[0].channelId,e[0].id);if(!n||n.author.id=="000")return;let t=g.createBotMessage({channelId:e[0].channelId,content:n.content});t.author={username:n.author.username+" ANTI DELETE",avatar:"clyde",id:"000"},i.receiveMessage(e[0].channelId,t)}catch{}}));const u=function(){return s.forEach(function(e){return e()})};return r.onUnload=u,r})({},vendetta.metro.common,vendetta.patcher,vendetta.metro);
