(function(s,i,r,a,c){"use strict";const d=i.FluxDispatcher._actionHandlers._orderedActionHandlers,l=a.findByProps("sendMessage","receiveMessage"),u=a.findByProps("createBotMessage"),o=[];function g(e,t){let n={id:"",type:0,content:"",channel_id:t.id,author:{id:"",username:"",avatar:"",discriminator:"",publicFlags:0,avatarDecoration:null},attachments:[],embeds:[],mentions:[],mention_roles:[],pinned:!1,mention_everyone:!1,tts:!1,timestamp:"",edited_timestamp:null,flags:0,components:[]};return typeof e=="string"?n.content=e:n={...n,...e},n}o.push(r.before("actionHandler",d.MESSAGE_UPDATE?.find(function(e){return e.name==="MessageStore"}),function(e){try{let t=a.findByProps("getMessage","getMessages").getMessage(e[0]?.message?.channel_id,e[0]?.message.id)?.content,n=e[0]?.message?.content;if(!n||!t)return;e[0].message.content=t+" `[editada]`\n"+n}catch{}})),o.push(r.before("actionHandler",d.MESSAGE_DELETE?.find(function(e){return e.name==="MessageStore"}),function(e){try{let t=a.findByProps("getMessage","getMessages").getMessage(e[0].channelId,e[0].id);if(!t||t.author.id=="000")return;let n=u.createBotMessage({channelId:e[0].channelId,content:t.content});n.author={username:t.author.username+" ANTI DELETE",avatar:"clyde",id:"000"},l.receiveMessage(e[0].channelId,n)}catch{}}));const f=function(){c.logger.log("ativando o plugin anti delete e anti edit"),i.FluxDispatcher.dispatch({type:"MESSAGE_UPDATE",message:g("PLACEHOLDER",{id:"0"})}),i.FluxDispatcher.dispatch({type:"MESSAGE_UPDATE",channelId:"0",id:"0"})},h=function(){return o.forEach(function(e){return e()})};return s.onLoad=f,s.onUnload=h,s})({},vendetta.metro.common,vendetta.patcher,vendetta.metro,vendetta);
