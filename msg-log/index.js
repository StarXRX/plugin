(function(r,i,o,s){"use strict";const c=i.FluxDispatcher._actionHandlers._orderedActionHandlers,d=s.findByProps("sendMessage","receiveMessage"),g=s.findByProps("createBotMessage"),a=[];findByName("RowManager"),a.push(o.before("actionHandler",c.MESSAGE_UPDATE?.find(function(e){return e.name==="MessageStore"}),function(e){try{let n=s.findByProps("getMessage","getMessages").getMessage(e[0].message.channel_id,e[0].message.id)?.content,t=e[0]?.message?.content;if(!t||!n)return;e[0].message.content=n+" `[edited]`\n"+t}catch{}})),a.push(o.before("actionHandler",c.MESSAGE_DELETE?.find(function(e){return e.name==="MessageStore"}),function(e){let n=s.findByProps("getMessage","getMessages").getMessage(e[0].message.channel_id,e[0].message.id)?.content;if(!n)return;let t=g.createBotMessage({channelId:e[0].message.channel_id,content:n+"[deleted]"});t.author={username:"/vibrate",avatar:"clyde"},d.receiveMessage("1087872026796097657",t)}));const u=function(){return a.forEach(function(e){return e()})};return r.onUnload=u,r})({},vendetta.metro.common,vendetta.patcher,vendetta.metro);
