(function(o,i,c,t){"use strict";const r=i.FluxDispatcher._actionHandlers._orderedActionHandlers;t.findByProps("sendMessage","receiveMessage"),t.findByProps("createBotMessage");const a=[];a.push(c.before("actionHandler",r.MESSAGE_UPDATE?.find(function(e){return e.name==="MessageStore"}),function(e){try{let n=t.findByProps("getMessage","getMessages").getMessage(e[0].message.channel_id,e[0].message.id)?.content,s=e[0]?.message?.content;if(!s||!n)return;e[0].message.content=n+" `[editada]`\n"+s}catch{}})),a.push(c.before("actionHandler",r.MESSAGE_DELETE?.find(function(e){return e.name==="MessageStore"}),function(e){let n=t.findByProps("getMessage","getMessages").getMessage(e[0].channelId,e[0].id);const s=n?.content+" `[deletada]`";ctx.args[0].type="MESSAGE_UPDATE",ctx.args[0].message={...n,edited_timestamp:"invalid_timestamp",content:s}}));const d=function(){return a.forEach(function(e){return e()})};return o.onUnload=d,o})({},vendetta.metro.common,vendetta.patcher,vendetta.metro);
