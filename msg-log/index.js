(function(a,d,o,n){"use strict";const c=d.FluxDispatcher._actionHandlers._orderedActionHandlers;n.findByProps("sendMessage","receiveMessage"),n.findByProps("createBotMessage");const t=[];t.push(o.before("actionHandler",c.MESSAGE_UPDATE?.find(function(e){return e.name==="MessageStore"}),function(e){try{let s=n.findByProps("getMessage","getMessages").getMessage(e[0].message.channel_id,e[0].message.id)?.content,r=e[0]?.message?.content;if(!r||!s)return;e[0].message.content=s+" `[editada]`\n"+r}catch{}})),t.push(o.before("actionHandler",c.MESSAGE_DELETE?.find(function(e){return e.name==="MessageStore"}),function(e){let s=n.findByProps("getMessage","getMessages").getMessage(e[0].channelId,e[0].id)?.content;n.findByProps("sendBotMessage").sendBotMessage(e[0].channelId,s)}));const i=function(){return t.forEach(function(e){return e()})};return a.onUnload=i,a})({},vendetta.metro.common,vendetta.patcher,vendetta.metro);
